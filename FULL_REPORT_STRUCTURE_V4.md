# 完整诊断报告结构优化 V4.0

## 优化目标

重点优化解锁后展示的完整诊断报告部分，使其更具"被看懂感"、更可执行、更有转化价值。

## 核心变化

### 一、输出结构（5个核心模块）

#### 1️⃣ 一句话定性（强断言）

**要求**：
- 判断账号所处核心状态
- 具备"被看懂感"
- 使用强断言，不用模糊词汇

**示例风格**：
```
你的账号目前处在「内容不差，但还没被算法当成一个人」的阶段。
```

**UI 展示**：
- 渐变背景卡片（#7C9A92 到 #5C7A72）
- 白色文字，大字号
- 突出显示，第一眼就能看到

---

#### 2️⃣ 核心矛盾诊断（只说一个）

**要求**：
- 明确指出：最大的问题是【核心问题】，而不是其他维度
- 给一句判断依据即可
- 不罗列多个问题

**示例风格**：
```
你的内容横跨多个方向，导致算法无法判断该把你推给哪一类人。
```

**UI 展示**：
- 米色背景卡片（#F3E8E2）
- 左侧橙色边框（#D88B7B）
- 深色文字，加粗显示

---

#### 3️⃣ 下一步，你可以这样试一次（可实操示例）

**要求**：
- 必须基于【核心问题】给出建议
- 必须包含可直接模仿的内容示例或句式
- 必须给出执行限制
- 偏内容/表达/结构层
- ≤ 120 字

**结构**：
```json
{
  "title": "3️⃣ 下一步，你可以这样试一次",
  "context": "你现在不需要重新规划定位，而是先做一次身份收敛测试。",
  "example": "发一条内容，只讲你在 ___ 经历中踩过的一个坑，以及你现在的判断。",
  "constraint": "不要讲方法论，只讲你的个人视角。"
}
```

**UI 展示**：
- 白色背景卡片，带边框
- 示例部分：浅绿色背景（#7C9A92/5）
- 执行限制：浅黄色背景（amber-50）
- 清晰的层次结构

---

#### 4️⃣ 算法眼中的你（能力展示）

**要求**：
- 基于 profileImage 分析
- 用"算法视角"描述一个关键现象
- 不给解决方案（只描述现象）

**示例风格**：
```
从算法视角看，你的情绪唤起能力明显强于同阶段账号，但缺少稳定的认知闭环。
```

**UI 展示**：
- 渐变灰色背景（slate-50 到 slate-100）
- 斜体文字
- 内阴影效果，营造"算法视角"的感觉

---

#### 5️⃣ 留白与隐藏价值（转化钩子）

**要求**：
- 明确指出：还有更深层但未展开的维度
- 引导至 1 对 1 / 陪跑
- 不打鸡血、不说教

**示例风格**：
```
除了当前问题，我们还分析了你的信任建立路径与长期变现承接能力，这些更适合在 1 对 1 中结合你的具体情况拆解。
```

**UI 展示**：
- 白色背景，虚线边框
- 分为两部分：insight（洞察）和 guidance（引导）
- 用分隔线区分

---

## 二、语言与风格统一要求

### 核心原则

1. **像经验型顾问，而不是说明书**
   - ✅ "你的账号目前处在..."
   - ❌ "根据分析，建议您..."

2. **不打鸡血、不说教**
   - ✅ "这是正常阶段"
   - ❌ "你一定可以的！只要坚持就能成功！"

3. **不使用模糊词汇**
   - ❌ "建议你考虑"
   - ❌ "如果你愿意"
   - ❌ "可能"、"也许"
   - ✅ "你现在需要..."
   - ✅ "下一步是..."

4. **核心感受：清晰、笃定、可执行**
   - 清晰：一句话说清楚问题
   - 笃定：不用"可能"，直接判断
   - 可执行：给出具体的示例和限制

### 语气对比

| 场景 | ❌ 错误示例 | ✅ 正确示例 |
|------|------------|------------|
| 定性 | "你的账号可能处于探索期" | "你的账号目前处在「内容不差，但还没被算法当成一个人」的阶段" |
| 诊断 | "建议你考虑优化定位" | "你的内容横跨多个方向，导致算法无法判断该把你推给哪一类人" |
| 建议 | "如果你愿意，可以尝试..." | "你现在不需要重新规划定位，而是先做一次身份收敛测试" |
| 引导 | "我们提供更深入的服务，欢迎咨询" | "除了当前问题，我们还分析了你的信任建立路径与长期变现承接能力，这些更适合在 1 对 1 中结合你的具体情况拆解" |

---

## 三、数据结构

### TypeScript 类型定义

```typescript
interface DiagnosisResult {
  // ... preview 部分保持不变
  
  fullReport?: {
    // 报告标题
    title: string;
    
    // 1️⃣ 一句话定性
    coreStatus: string;
    
    // 2️⃣ 核心矛盾诊断
    coreProblem: string;
    
    // 3️⃣ 下一步，你可以这样试一次
    actionableExample: {
      title: string;
      context: string;      // 背景说明（1-2句话）
      example: string;      // 可直接模仿的示例
      constraint: string;   // 执行限制（≤120字）
    };
    
    // 4️⃣ 算法眼中的你
    algorithmPerspective: string;
    
    // 5️⃣ 留白与隐藏价值
    deeperValue: {
      title: string;
      insight: string;      // 深层维度说明
      guidance: string;     // 引导语
    };
    
    // 7天行动清单
    sevenDayPlan: Array<{
      day: string;
      action: string;
      goal: string;
    }>;
    
    // 陪伴总结
    closingMessage: string;
  };
}
```

---

## 四、UI 设计规范

### 颜色方案

| 模块 | 背景色 | 边框/强调色 | 文字色 |
|------|--------|------------|--------|
| 一句话定性 | 渐变 #7C9A92 → #5C7A72 | - | 白色 |
| 核心矛盾 | #F3E8E2 | 左边框 #D88B7B | #1e293b |
| 可实操示例 | 白色 | #7C9A92/20 | #334155 |
| 示例区块 | #7C9A92/5 | #7C9A92/20 | #1e293b |
| 执行限制 | amber-50 | amber-200 | #78350f |
| 算法视角 | 渐变 slate-50 → slate-100 | - | #334155 |
| 留白价值 | 白色 | 虚线 slate-200 | #475569 |

### 间距规范

- 模块间距：`space-y-10`（2.5rem）
- 卡片内边距：`p-6`（1.5rem）或 `p-8`（2rem）
- 文字行高：`leading-relaxed`（1.625）

### 字体规范

- 标题：`text-lg` 或 `text-xl`，`font-bold`
- 正文：`text-base`，`font-medium` 或 `font-bold`
- 小标签：`text-xs`，`uppercase`，`tracking-widest`

---

## 五、示例对比

### 优化前（旧版本）

```
【整体状态解读】
从你的主页可以看出，你在内容方向上做了很多尝试——既有职场经验分享，也有日常生活记录，还有一些情感感悟。这种探索精神是好的，说明你在积极寻找适合自己的方向。

但问题在于，算法无法判断你到底是谁、想做什么...（200-300字）
```

**问题**：
- 太长，用户看不完
- 没有强断言，缺少"被看懂感"
- 像说明书，不像顾问

### 优化后（新版本）

```
【1️⃣ 一句话定性】
你的账号目前处在「内容不差，但还没被算法当成一个人」的阶段。

【2️⃣ 核心矛盾诊断】
你的内容横跨多个方向，导致算法无法判断该把你推给哪一类人。

【3️⃣ 下一步，你可以这样试一次】
你现在不需要重新规划定位，而是先做一次身份收敛测试。

示例：发一条内容，只讲你在 ___ 经历中踩过的一个坑，以及你现在的判断。

执行限制：不要讲方法论，只讲你的个人视角。
```

**优势**：
- ✅ 简洁有力，一眼看懂
- ✅ 强断言，有"被看懂感"
- ✅ 可执行，有具体示例
- ✅ 像顾问，不像说明书

---

## 六、AI Prompt 优化

### 关键指令

```
# 五、语言与风格统一要求

- **像经验型顾问，而不是说明书**：用第一人称视角，分享观察和判断
- **不打鸡血、不说教**：避免"你一定可以的"、"只要坚持就能成功"
- **不使用模糊词汇**：不用"建议你考虑"、"如果你愿意"、"可能"、"也许"
- **核心感受**：清晰、笃定、可执行
```

### 输出示例要求

```
# 六、具体示例要求

## ❌ 错误示例（模糊、说教）
- "建议你考虑优化账号定位，找准目标人群"
- "如果你愿意，可以尝试调整内容方向"
- "你的账号可能处于探索期，需要进一步明确"

## ✅ 正确示例（清晰、笃定、可执行）
- "你的账号目前处在「内容不差，但还没被算法当成一个人」的阶段"
- "你现在不需要重新规划定位，而是先做一次身份收敛测试"
- "你的内容横跨多个方向，导致算法无法判断该把你推给哪一类人"
```

---

## 七、实施状态

✅ 已更新 `services/geminiService.ts` 中的 fullReport 结构
✅ 已更新 `types.ts` 中的类型定义
✅ 已更新 `App.tsx` 中的 renderFullReport 函数
✅ 优化 UI 展示，使用新的颜色和布局方案
✅ 添加语言与风格统一要求到 AI prompt
✅ 保持向后兼容性（preview 部分不变）
✅ 无 TypeScript 错误

---

## 八、测试检查清单

### 内容检查

- [ ] 1️⃣ 一句话定性是否有强断言？
- [ ] 1️⃣ 是否具备"被看懂感"？
- [ ] 2️⃣ 核心矛盾是否只说了一个问题？
- [ ] 2️⃣ 是否给出了判断依据？
- [ ] 3️⃣ 是否给出了可直接模仿的示例？
- [ ] 3️⃣ 是否给出了执行限制？
- [ ] 3️⃣ 执行限制是否 ≤ 120 字？
- [ ] 4️⃣ 是否用"算法视角"描述？
- [ ] 4️⃣ 是否只描述现象，不给解决方案？
- [ ] 5️⃣ 是否指出了深层维度？
- [ ] 5️⃣ 是否自然引导至陪跑服务？

### 语气检查

- [ ] 是否像经验型顾问？
- [ ] 是否避免了打鸡血和说教？
- [ ] 是否没有使用"建议你考虑"、"如果你愿意"？
- [ ] 是否没有使用"可能"、"也许"？
- [ ] 整体感受是否清晰、笃定、可执行？

### UI 检查

- [ ] 1️⃣ 是否使用渐变背景卡片？
- [ ] 2️⃣ 是否使用米色背景 + 橙色左边框？
- [ ] 3️⃣ 示例区块是否有浅绿色背景？
- [ ] 3️⃣ 执行限制是否有浅黄色背景？
- [ ] 4️⃣ 是否使用渐变灰色背景 + 斜体？
- [ ] 5️⃣ 是否使用虚线边框？
- [ ] 整体布局是否清晰、层次分明？

---

## 九、下一步优化建议

### 短期优化

1. **动态示例生成**：根据用户的 stressPoint 动态生成更精准的示例
2. **视觉优化**：添加图标、动画效果，提升视觉吸引力
3. **交互优化**：添加"复制示例"按钮，方便用户直接使用

### 长期优化

1. **个性化程度提升**：基于用户的历史数据，提供更个性化的建议
2. **A/B 测试**：测试不同的语气和表达方式，找到最佳转化率
3. **用户反馈收集**：收集用户对报告的反馈，持续优化

---

## 十、相关文档

- [AI 诊断引擎策略优化](./AI_DIAGNOSTIC_STRATEGY.md)
- [输出结构优化 V3.0](./OUTPUT_STRUCTURE_V3.md)
- [测试流程指南](./TEST_FLOW.md)
